<root main_tree_to_execute = "MainTree" >
	<BehaviorTree ID="MainTree">
		<Sequence>
			<SetBlackboard output_key="Goal_a" value="9.861;2.667;0.000" />
      <SetBlackboard output_key="Goal_b" value="6.583;4.981;0.000" />
      <SetBlackboard output_key="Goal_c" value="3.969;1.143;0.000" />
      <SetBlackboard output_key="Goal_d" value="12.651;2.613;0.000" />

      <SetBlackboard output_key="robot1" value="omni_0" />
      <SetBlackboard output_key="robot2" value="omni_1" />
      <SetBlackboard output_key="robot3" value="omni_2" />

      <Repeat num_cycles="3">
        <Parallel threshold="2">
          <RetryUntilSuccesful num_attempts="10">
			      <Fallback>
			      	<Sequence>
			      		<SubTree ID="MoveRobot" robot_num="robot1" target="Goal_a" />
			      		<SubTree ID="MoveRobot" robot_num="robot1" target="Goal_b" />
			      		<SubTree ID="MoveRobot" robot_num="robot1" target="Goal_c" />
			      		<SubTree ID="MoveRobot" robot_num="robot1" target="Goal_d" />
			      	</Sequence>
            </Fallback>
          </RetryUntilSuccesful>
          <RetryUntilSuccesful num_attempts="10">
			      <Fallback>
			      	<Sequence>
			      		<SubTree ID="MoveRobot" robot_num="robot1" target="Goal_d" />
			      		<SubTree ID="MoveRobot" robot_num="robot2" target="Goal_b" />
			      		<SubTree ID="MoveRobot" robot_num="robot2" target="Goal_c" />
			      		<SubTree ID="MoveRobot" robot_num="robot2" target="Goal_a" />
			      	</Sequence>
            </Fallback>
          </RetryUntilSuccesful>
          <RetryUntilSuccesful num_attempts="10">
			      <Fallback>
			      	<Sequence>
			      		<SubTree ID="MoveRobot" robot_num="robot3" target="Goal_c" />
			      		<SubTree ID="MoveRobot" robot_num="robot3" target="Goal_b" />
			      		<SubTree ID="MoveRobot" robot_num="robot1" target="Goal_d" />
			      		<SubTree ID="MoveRobot" robot_num="robot3" target="Goal_a" />
			      	</Sequence>
            </Fallback>
          </RetryUntilSuccesful>
        </Parallel>
      </Repeat>

		</Sequence>
	</BehaviorTree>


	<BehaviorTree ID="MoveRobot">
		<Sequence name="SetGoal">
      <MoveBase robot="{robot_num}" goal="{target}" />
		</Sequence>
	</BehaviorTree>

</root>
